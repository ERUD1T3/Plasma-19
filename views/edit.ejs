<div class="container-fluid bg-light py-3">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="card card-body">
          <h3 class="text-center mb-4">Edit Profile</h3>
          <%- include('./plugins/messages.ejs') %>
          <fieldset>
            <!-- signup form -->
            <!-- <div class="col-auto"> -->
            <form action="/donor/edit?_method=put" method="post" enctype="multipart/form-data">
              <div class="form-group">
                <label for="firstname">First Name</label>
                <input
                  type="text"
                  class="form-control"
                  name="firstname"
                  id="firstname"
                  aria-describedby="firstname"
                  value="<%= locals.logged_donor.firstname %>"
                  placeholder="<%= locals.logged_donor.firstname %>"
                />
                <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
              </div>
  
              <div class="form-group">
                <label for="lastname">Last Name</label>
                <input
                  type="text"
                  class="form-control"
                  name="lastname"
                  id="lastname"
                  aria-describedby="lastname"
                  value="<%= locals.logged_donor.lastname %>"
                  placeholder="<%= locals.logged_donor.lastname %>"
                />
                <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
              </div>
  
              <div class="form-group">
                <label for="bloodType">blood Type</label>
                <div class="my-1">
                  <!-- <label class="mr-sm-2" for="bloodtype">Preference</label> -->
                  <select
                    class="custom-select mr-sm-2"
                    name="bloodType"
                    id="bloodType"
                  >
                    <option selected value="<%= locals.logged_donor.blood.split(' ')[0] %>"><%= locals.logged_donor.blood.split(' ')[0] %></option>
                    <option value="O">O</option>
                    <option value="B">B</option>
                    <option value="A">A</option>
                    <option value="AB">AB</option>
                  </select>
  
                  <% if(locals.logged_donor.blood.split(' ')[1] == 'positive') { %> 
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="Rh"
                      id="Rhp"
                      value="positive"
                      checked
                    />
                    <label class="form-check-label" for="Rhp">+ (Rh)</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="Rh"
                      id="Rhn"
                      value="negative"
                    /> 
                    <label class="form-check-label" for="Rhn">- (Rh)</label>
                  </div>
                  <% } else { %>
                    <div class="form-check form-check-inline">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="Rh"
                          id="Rhp"
                          value="positive"
                        />
                        <label class="form-check-label" for="Rhp">+ (Rh)</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="Rh"
                          id="Rhn"
                          value="negative"
                          checked
                        /> 
                        <label class="form-check-label" for="Rhn">- (Rh)</label>
                      </div>
                    <% } %>
                </div>
              </div>
  
              <div class="form-group">
                <label for="inputaddress">address</label>
                <input
                  type="text"
                  class="form-control"
                  name="inputaddress"
                  id="inputaddress"
                  placeholder="<%= locals.logged_donor.address.line1 %>"
                  value="<%= locals.logged_donor.address.line1 %>"
                />
              </div>
              <div class="form-group">
                <label for="inputaddress2">address 2</label>
                <input
                  type="text"
                  class="form-control"
                  name="inputaddress2"
                  id="inputaddress2"
                  placeholder="<%= locals.logged_donor.address.line2 %>"
                  value="<%= locals.logged_donor.address.line2 %>"
                />
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="inputCity">City</label>
                  <input
                    type="text"
                    class="form-control"
                    name="city"
                    id="inputCity"
                    placeholder="<%= locals.logged_donor.address.city %>"
                    value="<%= locals.logged_donor.address.city %>"
                  />
                </div>
                <div class="form-group col-md-4">
                  <label for="inputState">State</label>
                  <select id="inputState" name="state" class="form-control">
                    <option selected value="<%= locals.logged_donor.address.state %>">
                        <%= locals.logged_donor.address.state %>
                    </option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                  </select>
                </div>
                <div class="form-group col-md-2">
                  <label for="inputZip">Zip</label>
                  <input
                    type="text"
                    class="form-control"
                    name="zip"
                    id="inputZip"
                    placeholder="<%= locals.logged_donor.address.zip %>"
                    value="<%= locals.logged_donor.address.zip %>"
                  />
                </div>
              </div>
  
              
              <br>
                <div>
                  Current File: 
                    <a href="/download/<%= locals.logged_donor.document.id %>/<%= locals.logged_donor.document.name %>" download>
                        <%= locals.logged_donor.document.name %>
                    </a>
                </div>
                <br>

                <div>
                  HIPAA release form:
                  <a href="/download/PDF/<%= locals.logged_donor.HIPAA_file.id %>/<%= locals.logged_donor.HIPAA_file.name %>" download>
                    <%= locals.logged_donor.HIPAA_file.name %>
                  </a>
                </div>
                <br>

                <div>COVID-19 recovery document (Optional)</div>
                <div class="custom-file" style="margin-bottom: 1em">
                  <input type="file" class="custom-file-input" name="proofDocument" id="proofDocument">
                  <label class="custom-file-label" for="proofDocument">Choose file (Test results, hospital documents or other proof of COVID-19 recovery)</label>
                </div>
  
              <div class="text-center">
                <button
                  class="btn btn-primary"
                  type="submit"
                  id="submit_id"
                  required
                >
                  Update
                </button>
              </div>
              <div class="text-center"">
                <a href="/" class="btn btn-link">
                  Cancel
                </a>
              </div>
              <!-- <div class="text-center">
                <a href="/login" class="btn btn-link">
                  Login
                </a>
              </div> -->
            </form>
            <!-- </div> -->
          </fieldset>
        </div>
        <script>
           // name of the file appear on select
            $(".custom-file-input").on("change", function () {
              var fileName = $(this).val().split("\\").pop();
              $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
            });
  
            //File upload management
              $('#proofDocument').on('change', function () {
                // $('#GFG_DOWN').text(this.files[0].size + "bytes");
                var cad_file = this.files[0];
                console.log(cad_file);
                // $('#print-name').text(cad_file.name);
                // var fileSize = cad_file.size / 1024;
                // var roundedFileSize = Math.round(fileSize * 10) / 10;
                // $('#print-size').text(roundedFileSize + ' Kb');
                // $('#print-data').fadeIn();
                // $('#print-details-container').fadeIn();
              });
        </script>
      </div>
    </div>
  </div>
  