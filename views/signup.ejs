<div class="container-fluid bg-light py-3">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <div class="card card-body">
        <h3 class="text-center mb-4">Sign-up</h3>
        
        <h4 class="text-warning">
          <img src="https://img.icons8.com/office/80/000000/error.png" style="width: 1em;"/>
          ONLY PEOPLE WHO RECOVERED FROM COVID-19 SHOULD REGISTER AS DONORS
        </h4>
          <br>
        <%- include('./plugins/messages.ejs') %>
        <fieldset>
          <!-- signup form -->
          <!-- <div class="col-auto"> -->
          <form action="/signup" method="post" enctype="multipart/form-data">
            <div class="form-group">
              <label for="firstname">First Name</label>
              <input
                type="text"
                class="form-control"
                name="firstname"
                id="firstname"
                aria-describedby="firstname"
                placeholder="Enter your first name"
              />
              <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
            </div>

            <div class="form-group">
              <label for="lastname">Last Name</label>
              <input
                type="text"
                class="form-control"
                name="lastname"
                id="lastname"
                aria-describedby="lastname"
                placeholder="Enter your last name"
              />
              <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
            </div>

            <div class="form-group">
              <label for="email">Email</label>
              <input
                type="email"
                class="form-control"
                name="email"
                id="email"
                aria-describedby="emailHelp"
                placeholder="Enter email"
              />
              <small id="emailHelp" class="form-text text-muted"
                >We'll never share your email with anyone else.</small
              >
            </div>

            <div class="form-group">
              <label for="password1">Password</label>
              <input
                type="password"
                class="form-control"
                name="password1"
                id="password1"
                placeholder="Enter password"
              />
            </div>

            <div class="form-group">
              <!-- <label for="password1">EPassword</label> -->
              <input
                type="password"
                class="form-control"
                name="password2"
                id="password2"
                placeholder="Re-enter password"
              />
            </div>

            <div class="form-group">
              <label for="bloodType">Blood Type</label>
              <div class="my-1">
                <!-- <label class="mr-sm-2" for="bloodtype">Preference</label> -->
                <select
                  class="custom-select mr-sm-2"
                  name="bloodType"
                  id="bloodType"
                >
                  <option selected>Choose...</option>
                  <option value="O">O</option>
                  <option value="B">B</option>
                  <option value="A">A</option>
                  <option value="AB">AB</option>
                </select>
                <!-- <br> -->
                <!-- <br> -->
                <div class="form-check form-check-inline" style="margin-top: 0.8em;">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="Rh"
                    id="Rhp"
                    value="positive"
                  />
                  <label class="form-check-label" for="Rhp">+ (Rh)</label>
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="Rh"
                    id="Rhn"
                    value="negative"
                  />
                  <label class="form-check-label" for="Rhn">- (Rh)</label>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="inputaddress">Address Line</label>
              <input
                type="text"
                class="form-control"
                name="inputaddress"
                id="inputaddress"
                placeholder="1234 Main St"
              />
            </div>
            <div class="form-group">
              <label for="inputaddress2">Address Line 2</label>
              <input
                type="text"
                class="form-control"
                name="inputaddress2"
                id="inputaddress2"
                placeholder="Apartment, studio, or floor"
              />
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputCity">City</label>
                <input
                  type="text"
                  class="form-control"
                  name="city"
                  id="inputCity"
                />
              </div>
              <div class="form-group col-md-4">
                <label for="inputState">State</label>
                <select id="inputState" name="state" class="form-control">
                  <option selected>Choose...</option>
                  <option value="AL">Alabama</option>
                  <option value="AK">Alaska</option>
                  <option value="AZ">Arizona</option>
                  <option value="AR">Arkansas</option>
                  <option value="CA">California</option>
                  <option value="CO">Colorado</option>
                  <option value="CT">Connecticut</option>
                  <option value="DE">Delaware</option>
                  <option value="DC">District of Columbia</option>
                  <option value="FL">Florida</option>
                  <option value="GA">Georgia</option>
                  <option value="HI">Hawaii</option>
                  <option value="ID">Idaho</option>
                  <option value="IL">Illinois</option>
                  <option value="IN">Indiana</option>
                  <option value="IA">Iowa</option>
                  <option value="KS">Kansas</option>
                  <option value="KY">Kentucky</option>
                  <option value="LA">Louisiana</option>
                  <option value="ME">Maine</option>
                  <option value="MD">Maryland</option>
                  <option value="MA">Massachusetts</option>
                  <option value="MI">Michigan</option>
                  <option value="MN">Minnesota</option>
                  <option value="MS">Mississippi</option>
                  <option value="MO">Missouri</option>
                  <option value="MT">Montana</option>
                  <option value="NE">Nebraska</option>
                  <option value="NV">Nevada</option>
                  <option value="NH">New Hampshire</option>
                  <option value="NJ">New Jersey</option>
                  <option value="NM">New Mexico</option>
                  <option value="NY">New York</option>
                  <option value="NC">North Carolina</option>
                  <option value="ND">North Dakota</option>
                  <option value="OH">Ohio</option>
                  <option value="OK">Oklahoma</option>
                  <option value="OR">Oregon</option>
                  <option value="PA">Pennsylvania</option>
                  <option value="RI">Rhode Island</option>
                  <option value="SC">South Carolina</option>
                  <option value="SD">South Dakota</option>
                  <option value="TN">Tennessee</option>
                  <option value="TX">Texas</option>
                  <option value="UT">Utah</option>
                  <option value="VT">Vermont</option>
                  <option value="VA">Virginia</option>
                  <option value="WA">Washington</option>
                  <option value="WV">West Virginia</option>
                  <option value="WI">Wisconsin</option>
                  <option value="WY">Wyoming</option>
                </select>
              </div>
              <div class="form-group col-md-2">
                <label for="inputZip">Zip</label>
                <input
                  type="text"
                  class="form-control"
                  name="zip"
                  id="inputZip"
                />
              </div>
            </div>

            <!-- <div class="fileupload">
              <input type="file" name="fileupload" id="fileupload">
            </div>   -->
            <div class="form-group">
              <label for="bloodType">Do you have your COVID-19 test results documentation?</label>
                <div class="form-check form-check-inline" style="margin-top: 0.8em;">
                  <input class="form-check-input" type="radio" name="doc_avail" id="yes_doc" value="positive" required/>
                  <label class="form-check-label" for="yes_doc"> Yes</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="doc_avail" id="no_doc" value="negative" required/>
                  <label class="form-check-label" for="no_doc"> No</label>
                </div>
            </div>
              <div>COVID-19 Test</div>
              <div id="doc-upload">
                <div class="custom-file" style="margin-bottom: 1em">
                  <input type="file" class="custom-file-input" name="proofDocument" id="proofDocument">
                  <label class="custom-file-label" for="proofDocument">Upload Document</label>
                  <small class="form-text text-muted">Test results, hospital documents or other evidence of having COVID-19 in the past
                    or recovering from it</small>
                </div>
              </div>
                <div id="testing_info" style="display: none;">
                  <div class="form-group">
                    <label for="test_location">What is the name of the center or organization where you got tested?</label>
                    <input type="text" class="form-control" id="test_location" name="test_location">
                  </div>
                  <div class="form-group">
                    <label for="test_date">Test date</label>
                    <input type="date" id="test_date" name="test_date">
                  </div>
                  <div class="form-group">
                    <div class="custom-control custom-checkbox my-1 mr-sm-2">
                      <input type="checkbox" class="custom-control-input" id="2_weeks" name="2_weeks">
                      <label class="custom-control-label" for="2_weeks">Check this box to confirm that it has been at least 2 weeks since you are symptom free.</label>
                    </div>
                   
                  </div>
                  
                </div>
              
            <br><br>
            <div class="form-group">
              <div class="custom-control custom-checkbox my-1 mr-sm-2">
                <input type="checkbox" class="custom-control-input" id="hipaa_signature" name="hipaa_signature" value="true" required>
                <label class="custom-control-label" for="hipaa_signature">
                  <b>SIGN HIPAA RELEASE</b>
                </label>
                <div>
                  By checking this box your are signing a Health Insurance Portability & Accountability (HIPAA)
                  release form. Please review the form <a target="_blank" href="/download/PDF/5e9a90ba2700b436dd7e569a/PLASMA-19 HIPPA RELEASE.pdf">here</a> before checking the box. For more information on HIPAA visit 
                  <a target="_blank" href="https://www.hhs.gov/hipaa/for-professionals/privacy/index.html">hhs.gov</a>.
                </div>
              </div>
            </div>

            <br><br>
            <div class="text-center">
              <button
                class="btn btn-primary"
                type="submit"
                id="submit_id"
                required
              >
                Submit
              </button>
            </div>
            <div class="text-center"">
              <a href="/" class="btn btn-link">
                Cancel
              </a>
            </div>
            <div class="text-center">
              <a href="/login" class="btn btn-link">
                Login
              </a>
            </div>
          </form>
          <!-- </div> -->
        </fieldset>
      </div>
      <script>
         // name of the file appear on select
          $(".custom-file-input").on("change", function () {
            var fileName = $(this).val().split("\\").pop();
            $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
          });

          //File upload management
            $('#proofDocument').on('change', function () {
              var medDoc = this.files[0];
              console.log(medDoc);
            });

          //Available document management
          $('#yes_doc').on("change", function(){
            console.log("Document is available");
            $('#doc-upload').show();
            $('#testing_info').hide();
             // Do not require testing info for submission
            document.getElementById("test_location").required = false;
            document.getElementById("test_date").required = false;
            document.getElementById("2_weeks").required = false;
          });

            $('#no_doc').on("change", function () {
                console.log("Document is not available");
                $('#doc-upload').hide();
                $('#testing_info').show();
              // Require testing info for submission
                document.getElementById("test_location").required = true;
                document.getElementById("test_date").required = true;
                document.getElementById("2_weeks").required = true;
              });
          // document.getElementsById("yes-doc").on("change", function(){
          //   console.log("Avail doc changed");
          // })
      </script>
    </div>
  </div>
</div>
